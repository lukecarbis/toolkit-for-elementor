function set_js_cookie(e,t,o){var s=new Date;s.setTime(s.getTime()+864e5*o);var i="expires="+s.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}function get_js_cookie(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),s=0;s<o.length;s++){for(var i=o[s];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function toolkit_get_success_message(e,t){return({code_cleaner:["Emojis have been re-enabled successfully","Emojis have been disabled successfully","Dashicons have been re-enabled successfully","Dashicons have been disabled successfully","oEmbed has been re-enabled successfully","oEmbed has been disabled successfully","RSS Feeds have been re-enabled successfully","RSS Feeds have been disabled successfully","XML-RPC has been re-enabled successfully","XML-RPC has been disabled successfully","Comments have been re-enabled successfully","Comments have been disabled successfully","Rest API has been re-enabled successfully","Rest API has been disabled successfully","Gutenberg CSS Block Library has been re-enabled successfully","Gutenberg CSS Block Library has been disabled successfully","Query Strings have been re-enabled successfully","Query Strings have been disabled successfully","Rest API Links have been re-enabled successfully","Rest API Links have been disabled successfully","RSS Feed Links have been re-enabled successfully","RSS Feed Links have been disabled successfully","Really Simple Discovery (RSD) Link has been re-enabled successfully","Really Simple Discovery (RSD) Link has been disabled successfully","WP Shortlinks have been re-enabled successfully","WP Shortlinks have been disabled successfully","Windows Live Writer Link has been re-enabled successfully","Windows Live Writer Link has been disabled successfully","Disable Rest API setting has been updated successfully","Gutenberg CSS Block Library setting has been updated successfully","jQuery Migrate has been re-enabled successfully","jQuery Migrate has been disabled successfully"],database_cleaner:["Post Revisions will no longer be cleaned by ToolKit","Post Revisions will be cleaned by ToolKit","Post Auto Drafts will no longer be cleaned by ToolKit","Post Auto Drafts will be cleaned by ToolKit","Trashed Posts will no longer be cleaned by ToolKit","Trashed Posts will be cleaned by ToolKit","Spam Comments will no longer be cleaned by ToolKit","Spam Comments will be cleaned by ToolKit","Trashed Comments will no longer be cleaned by ToolKit","Trashed Comments will be cleaned by ToolKit","Expired Transients will no longer be cleaned by ToolKit","Expired Transients will be cleaned by ToolKit","All Transients will no longer be cleaned by ToolKit","All Transients will be cleaned by ToolKit","Optimize Tables will no longer be cleaned by ToolKit","Optimize Tables will be cleaned by ToolKit","DB Automatic Cleaning preferences successfully updated"],cache_manager:["ToolKit Caching has been disabled successfully","ToolKit Caching has been enabled successfully","Automatic Cache Clearing preferences updated successfully","Cache Expiration preferences updated successfully","Preload Cache has been disabled successfully","ToolKit will now preload cache for site visitors","Preload Cache schedule updated successfully","Cache Exclusions updated successfully","ToolKit will no longer optimize cached content for logged-in users","ToolKit will now serve cached content to logged-in users"],booster_main:["CDN support has been disabled successfully","CDN support is now enabled","CDN settings updated successfully","CDN Exclusions updated successfully","CSS Minification has been disabled successfully","CSS Minification is now enabled","Combine CSS has been disabled successfully","Combine CSS is now enabled","Combining CSS will include Elementor core files","Combining CSS will no longer include Elementor core files","Exclusions updated successfully","JS Minification has been disabled successfully","JS Minification has been enabled successfully","Combine JS has been disabled successfully","Combine JS has been enabled successfully","Combining JS will include Elementor core files","Combining JS will no longer include Elementor core files","Exclusions updated successfully","Defer JS has been disabled successfully","Defer JS has been enabled successfully","Defer Inline JS has been disabled successfully","Defer Inline JS has been enabled successfully","","","Defer JS will now apply site-wide","Defer JS will apply on the Homepage Only","Exclusions updated successfully","Delay JS has been disabled successfully","Delay JS is now enabled","Delay JS settings updated successfully","ToolKit will no longer optimize or locally host Google Fonts","ToolKit will now locally host and optimize Google Fonts","Enable Fallback Fonts has been disabled successfully","Enable Fallback Fonts has been enabled successfully","Preload Fonts settings updated successfully","Lazy Render Elements updated successfully"],prefetch_dns:["Prefetch DNS has been disabled successfully","Prefetch DNS has been enabled successfully","Prefetch DNS settings updated successfully"],media_loading:["Lazy Load has been disabled successfully","Lazy Load has been enabled successfully","Lazy Load Method updated successfully","Setting updated successfully","Lazy Load exclusions updated successfully","ToolKit will no longer Preload Above the Fold Images","ToolKit will now Preload Above the Fold Images","ToolKit will no longer Add Image Width & Height attributes to images","ToolKit will now Add Image Width & Height attributes to images","Lazy Load Video has been disabled successfully","Lazy Load Video has been enabled successfully","Lazy Load Iframe has been disabled successfully","Lazy Load Iframe has been enabled successfully","Optimize Youtube iFrames has been disabled successfully","Optimize Youtube iFrames has been enabled successfully","Youtube Placeholder thumbnails will no longer be self-hosted","Youtube Placeholder thumbnails will now be self-hosted"],server_tweaks:["GZip Compression has been disabled successfully","GZip Compression has been enabled successfully","Enable Keep-Alive Connections has been disabled successfully","Enable Keep-Alive Connections has been enabled successfully","Enable Entity Tags (ETags) has been disabled successfully","Enable Entity Tags (ETags) has been enabled successfully","Leverage Browser Caching & Expires Headers has been disabled successfully","Leverage Browser Caching & Expires Headers has been enabled successfully","Specify a Vary: Accept-Encoding Header has been disabled successfully","Specify a Vary: Accept-Encoding Header has been enabled successfully"],theme_dashing:["Admin Dashboard Template updated successfully","Your Widget Title will no longer be displayed","Widget Title enabled successfully","Your custom dashboard widget is no longer dismissable","Your custom dashboard widget is now dismissable","Update Login URL has been disabled successfully","Update Login URL has been enabled successfully","New Login URL updated successfully","Invalid Login Attempts URL updated successfully","Background Size updated successfully","Background Repeat setting updated successfully","Logo Width updated successfully","Logo Height updated successfully","Logo URL updated successfully","Custom CSS updated successfully","Themeless has been disabled successfully","Themeless has been enabled successfully"],core_manager:["WP's default sitemap generation processes re-enabled successfully","WP's default sitemap generation processes are now disabled","Automatic updates for WP Core have been re-enabled successfully","Automatic updates for WP Core have been disabled successfully","Automatic updates for Plugins have been re-enabled successfully","Automatic updates for Plugins have been disabled successfully","Automatic updates for themes have been re-enabled successfully","Automatic updates for themes have been disabled successfully","Modify Heartbeat Settings disabled successfully","Modify Heartbeat Settings enabled successfully","Heartbeat Frequency updated successfully","Modify Post Revision Limits disabled successfully","Modify Post Revision Limits enabled successfully","Post Revision Limit updated successfully","Modify Autosave Intervals disabled successfully","Modify Autosave Intervals enabled successfully","Autosave Interval updated successfully"]})[e][t]}function toolkit_get_random_string(e){for(var t="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=o.length,i=0;i<e;i++)t+=o.charAt(Math.floor(Math.random()*s));return t}function toolkit_save_admin_settings(e,t,o=!1){jQuery.ajax({type:"POST",url:toolkit.ajax_url,dataType:"json",data:e,beforeSend:function(){jQuery("#wpbody-content").showLoading()},success:function(e){jQuery("#wpbody-content").hideLoading();var s=toolkit_get_random_string(15);e.success?(t&&void 0!==t||(t=e.message),jQuery(".toolkit-message").show().append('<p class="success-msg '+s+'"><b>Success:</b><br/>'+t+"</p>"),void 0!==e.msg2&&setTimeout(function(){jQuery(".toolkit-message").append('<p class="success-msg '+s+'"><b>Success:</b><br/>'+e.msg2+"</p>")},500),o&&setTimeout(function(){window.location.reload()},1e3),void 0!==e.alert&&alert(e.alert)):jQuery(".toolkit-message").show().append('<p class="error-msg '+s+'"><b>Error:</b><br/>'+e.message+"</p>"),setTimeout(function(){jQuery("."+s).remove()},5e3)},error:function(e,t,o){jQuery("#wpbody-content").hideLoading()}})}function toolkitGetArrayUnique(e){return e.filter(function(t,o){return e.indexOf(t)==o})}function capitalizeFirstLetter(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}jQuery.fn.setLoading=function(e){$("#loading-indicator-"+jQuery(this).attr("id")).html(e+"%")},jQuery.fn.showLoading=function(e){var t,o,s,i={addClass:"",beforeShow:"",afterShow:"",hPos:"center",vPos:"center",indicatorZIndex:5001,overlayZIndex:5e3,parent:"",waitingText:"",marginTop:0,marginLeft:0,overlayWidth:null,overlayHeight:null};jQuery.extend(i,e);var a=jQuery('<div style="text-align:center"></div>'),n=jQuery('<div style="text-align:center">'+i.waitingText+"</div>"),l=jQuery("<div></div>");t=i.indicatorID?i.indicatorID:jQuery(this).attr("id"),jQuery(a).attr("id","loading-indicator-"+t),jQuery(a).addClass("loading-indicator"),jQuery(n).attr("id","loading-indicator-text"),jQuery(n).addClass("loading-indicator-text"),i.addClass&&jQuery(a).addClass(i.addClass),jQuery(l).css("display","none"),jQuery(document.body).append(l),jQuery(l).attr("id","loading-indicator-"+t+"-overlay"),jQuery(l).addClass("loading-indicator-overlay"),i.addClass&&jQuery(l).addClass(i.addClass+"-overlay");var c=jQuery(this).css("border-top-width"),r=jQuery(this).css("border-left-width");c=isNaN(parseInt(c))?0:c,r=isNaN(parseInt(r))?0:r;var d=jQuery(this).offset().left+parseInt(r),p=jQuery(this).offset().top+parseInt(c);o=null!==i.overlayWidth?i.overlayWidth:parseInt(jQuery(this).width())+parseInt(jQuery(this).css("padding-right"))+parseInt(jQuery(this).css("padding-left")),s=null!==i.overlayHeight?i.overlayWidth:parseInt(jQuery(this).height())+parseInt(jQuery(this).css("padding-top"))+parseInt(jQuery(this).css("padding-bottom")),jQuery(l).css("width",o.toString()+"px"),jQuery(l).css("height",s.toString()+"px"),jQuery(l).css("left",d.toString()+"px"),jQuery(l).css("position","absolute"),jQuery(l).css("top",p.toString()+"px"),jQuery(l).css("z-index",i.overlayZIndex),i.overlayCSS&&jQuery(l).css(i.overlayCSS),jQuery(a).css("display","none"),jQuery(document.body).append(a),jQuery(n).css("display","none"),jQuery(document.body).append(n),jQuery(a).css("position","absolute"),jQuery(a).css("z-index",i.indicatorZIndex),jQuery(n).css("position","absolute"),jQuery(n).css("z-index",i.indicatorZIndex);var u=p;i.marginTop&&(u+=parseInt(i.marginTop));var g=d;i.marginLeft&&(g+=parseInt(i.marginTop)),"center"==i.hPos.toString().toLowerCase()?(jQuery(a).css("left",(g+(jQuery(l).width()-parseInt(jQuery(a).width()))/2).toString()+"px"),jQuery(n).css("left",(g+(jQuery(l).width()-parseInt(jQuery(n).width()))/2).toString()+"px")):"left"==i.hPos.toString().toLowerCase()?(jQuery(a).css("left",(g+parseInt(jQuery(l).css("margin-left"))).toString()+"px"),jQuery(n).css("left",(g+parseInt(jQuery(l).css("margin-left"))).toString()+"px")):"right"==i.hPos.toString().toLowerCase()?(jQuery(a).css("left",(g+(jQuery(l).width()-parseInt(jQuery(a).width()))).toString()+"px"),jQuery(n).css("left",(g+(jQuery(l).width()-parseInt(jQuery(n).width()))).toString()+"px")):(jQuery(a).css("left",(g+parseInt(i.hPos)).toString()+"px"),jQuery(n).css("left",(g+parseInt(i.hPos)).toString()+"px")),"center"==i.vPos.toString().toLowerCase()?(jQuery(a).css("top",(u+(jQuery(l).height()-parseInt(jQuery(a).height()))/2).toString()+"px"),jQuery(n).css("top",(u+(jQuery(l).height()-parseInt(jQuery(n).height()))/1.75).toString()+"px")):"top"==i.vPos.toString().toLowerCase()?(jQuery(a).css("top",u.toString()+"px"),jQuery(n).css("top",u.toString()+"px")):"bottom"==i.vPos.toString().toLowerCase()?(jQuery(a).css("top",(u+(jQuery(l).height()-parseInt(jQuery(a).height()))).toString()+"px"),jQuery(n).css("top",(u+(jQuery(l).height()-parseInt(jQuery(a).height()))).toString()+"px")):(jQuery(a).css("top",(u+parseInt(i.vPos)).toString()+"px"),jQuery(n).css("top",(u+parseInt(i.vPos)).toString()+"px")),i.css&&(jQuery(a).css(i.css),jQuery(n).css(i.css));var h={overlay:l,indicator:a,element:this};return"function"==typeof i.beforeShow&&i.beforeShow(h),jQuery(l).show(),jQuery(a).show(),jQuery(n).show(),"function"==typeof i.afterShow&&i.afterShow(h),this},jQuery.fn.hideLoading=function(e){var t={};return jQuery.extend(t,e),indicatorID=t.indicatorID?t.indicatorID:jQuery(this).attr("id"),jQuery(document.body).find("#loading-indicator-text").remove(),jQuery(document.body).find("#loading-indicator-"+indicatorID).remove(),jQuery(document.body).find("#loading-indicator-"+indicatorID+"-overlay").remove(),this},jQuery(document).ready(function(e){e(".tabs-holder .tab-nav li").on("click",function(){set_js_cookie("sub_menu_sub_tab",e(this).data("tabid"),7)});var t=".tab-nav ul li";if(e(document).on("click",t,function(){var o=e(this).closest(".tabs-holder");o.find(t).removeClass("active-tab");var s=e(this).data("tabid");e(this).addClass("active-tab"),o.find(".content-tab .single-tab").hide(),e("#"+s).fadeIn("slow")}),e(t).length>0){var o=get_js_cookie("sub_menu_sub_tab");o?e('li[data-tabid="'+o+'"]').trigger("click"):e(".tab-nav ul li:eq(0)").trigger("click")}e(document).on("click",".inner-tab-heading",function(){var t=e(this).closest(".normal-inner-tabs");t.find(".inner-tab-heading").removeClass("active-heading"),e(this).addClass("active-heading"),t.find(".inner-tab-content").removeClass("active-content"),e("#tabcontent-"+e(this).data("ptype")).addClass("active-content")}),void 0!==e.fn.select2&&e(".post-type-script").select2(),e(".collapse-lbl").length>0&&e(".collapse-lbl").on("click",function(){e("#"+e(this).data("target")).toggleClass("open")});var s=e(".gtmetrix-report .report-left > .row");if(s.length>0){var i=e(".gtmetrix-report .report-right > .row");s.outerHeight()>i.outerHeight()?i.css({height:s.outerHeight()+"px"}):s.css({height:i.outerHeight()+"px"})}var a="slow";jQuery("body").on("click",".toolkit-performance #gtmetrix-scan-history .download-full-report",function(){var e=jQuery(this).data("full_report"),t=jQuery(this).data("testid");e&&t?jQuery.ajax({type:"POST",url:toolkit.ajax_url,dataType:"html",data:{action:"toolkit_performance_gtmetrix_download_report",report_url:e,testid:t},beforeSend:function(){jQuery("#gtmetrix-history-section").showLoading({addClass:"loading-indicator-bars"})},complete:function(){},success:function(e){jQuery("#gtmetrix-history-section").hideLoading();var o=jQuery.parseJSON(e);if(o.status){if(o.hasOwnProperty("report")){var s=document.createElement("a");s.href="data:application/pdf;base64,"+o.report,s.download="report_pdf-"+t+".pdf",document.body.appendChild(s),s.click(),window.onfocus=function(){document.body.removeChild(s)}}jQuery.ajax({type:"POST",url:toolkit.ajax_url,dataType:"html",data:{action:"toolkit_performance_gtmetrix_scan_result"},beforeSend:function(){jQuery(".toolkit-gtmetrix-section").showLoading()},complete:function(){},success:function(e){jQuery(".toolkit-gtmetrix-section").hideLoading(),jQuery(".toolkit-performance").html(e)},error:function(e,t,o){alert(t)}})}else jQuery(".toolkit-message").removeClass("updated").addClass("error").show().html("<p>"+o.message+"</p>").delay(5e3).fadeOut(a),jQuery("html, body").animate({scrollTop:0},"slow")},error:function(e,t,o){alert(t)}}):(jQuery(".toolkit-message").removeClass("updated").addClass("error").show().html("<p>Report URL missing.</p>").delay(5e3).fadeOut(a),jQuery("html, body").animate({scrollTop:0},"slow"))}),jQuery("body").on("click",".toolkit-performance .toolkit-gtmetrix-section button",function(){jQuery(this);var e,t=jQuery(".toolkit-gtmetrix-section input[name=scan_url]").val();if(!1==(e=t,!!RegExp("^(http(s)?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)))return jQuery(".toolkit-message").removeClass("updated").addClass("error").show().html("<p>Error: Please Enter a valid URL to test.</p>").delay(5e3).fadeOut(a),jQuery("html, body").animate({scrollTop:0},"slow"),!1;var o=jQuery(".toolkit-gtmetrix-section select[name=location] option:selected").val(),s=jQuery(".toolkit-gtmetrix-section select[name=browser] option:selected").val(),i=jQuery(".toolkit-gtmetrix-section input[name=_nonce]").val();jQuery.ajax({type:"POST",url:toolkit.ajax_url,dataType:"json",data:{action:"toolkit_performance_gtmetrix_scan",scan_url:t,scan_location:o,scan_browser:s,_nonce:i},beforeSend:function(){jQuery(".toolkit-gtmetrix-section").showLoading({addClass:"loading-indicator-bars",waitingText:"Performing Scan Now, Please Wait"})},success:function(e){jQuery(".toolkit-gtmetrix-section").hideLoading(),1===e.status?(jQuery(".toolkit-message").show().append('<p class="success-msg gtmetrix-message"><b>Success:</b><br/>'+e.message+"</p>"),setTimeout(function(){window.location.reload()},2e3)):jQuery(".toolkit-message").show().append('<p class="error-msg gtmetrix-message"><b>Error:</b><br/>'+e.message+"</p>")},error:function(e,t,o){alert(t)}})}),jQuery("body").on("change",".toolkit-performance #gtmetrix-package-section select[name=gtmetrix-packages]",function(){var e=jQuery(this).val();e&&(window.location.href=e)}),jQuery("#toolkit_cache_pages, #toolkit_preload_cache, #toolkit_cache_loggedin, .save-cache-settings").on("click",function(){var t={action:"toolkit_cache_setting_save"};t.cache_pages=!0===e("#toolkit_cache_pages").prop("checked")?"on":"off",t.cache_purge=e("#toolkit_cache_purge").val(),t.cache_lifespan=e("#toolkit_cache_lifespan").val(),t.cache_exclude=e("#toolkit_cache_exclude").val(),t.preload_cache=!0===e("#toolkit_preload_cache").prop("checked")?"on":"off",t.preload_lifespan=e("#toolkit_preload_lifespan").val(),t.cache_loggedin=!0===e("#toolkit_cache_loggedin").prop("checked")?"on":"off",t._nonce=e(".minification-setting-section input[name=_nonce]").val();var o=e(this).data("message");!0===e(this).prop("checked")&&(o=parseInt(o)+1);var s=toolkit_get_success_message("cache_manager",o);toolkit_save_admin_settings(t,s),"toolkit_preload_cache"===e(this).attr("id")&&!0===e("#toolkit_preload_cache").prop("checked")&&setTimeout(function(){e("#run-preload-cache").trigger("click")},1e3)}),jQuery("#run-preload-cache").on("click",function(){var t={action:"toolkit_run_preload_cache"};t._nonce=e(".minification-setting-section input[name=_nonce]").val(),toolkit_save_admin_settings(t,"",!0)}),jQuery(".save-database-settings, #toolkit_posts_revs, #toolkit_auto_drafts, #toolkit_trash_posts, #toolkit_spam_comments, #toolkit_trash_comments, #toolkit_exp_transients, #toolkit_all_transients, #toolkit_opt_tables").on("click",function(){var t={action:"toolkit_dbopt_setting_save"};t.posts_revs=!0===e("#toolkit_posts_revs").prop("checked")?"on":"off",t.auto_drafts=!0===e("#toolkit_auto_drafts").prop("checked")?"on":"off",t.trash_posts=!0===e("#toolkit_trash_posts").prop("checked")?"on":"off",t.spam_comments=!0===e("#toolkit_spam_comments").prop("checked")?"on":"off",t.trash_comments=!0===e("#toolkit_trash_comments").prop("checked")?"on":"off",t.exp_transients=!0===e("#toolkit_exp_transients").prop("checked")?"on":"off",t.all_transients=!0===e("#toolkit_all_transients").prop("checked")?"on":"off",t.opt_tables=!0===e("#toolkit_opt_tables").prop("checked")?"on":"off",t.dbauto_clean=e("#toolkit_dbauto_clean").val(),t._nonce=e(".minification-setting-section input[name=_nonce]").val();var o=e(this).data("message");!0===e(this).prop("checked")&&(o=parseInt(o)+1);var s=toolkit_get_success_message("database_cleaner",o);toolkit_save_admin_settings(t,s)}),e(document).on("click","#cdn-holder-table tbody .save-cdn-settings.jsbtn",function(){e(".save-cdn-settings:eq(0)").trigger("click")}),jQuery("#toolkit_css_minify, #toolkit_css_combine, #toolkit_css_excelem, #toolkit_google_fonts, #toolkit_fallback_fonts, .save-cssminify-settings, #toolkit_js_minify, #toolkit_js_combine, #toolkit_js_excelem, #toolkit_js_defer, #toolkit_jsdefer_inline, #toolkit_defer_homeonly, #toolkit_js_delay, .save-javascript-settings, .save-cdn-settings, #toolkit_cdn_enable, .save-fonts-settings").on("click",function(){var t={action:"toolkit_server_setting_save"};t.css_minify=!0===e("#toolkit_css_minify").prop("checked")?"on":"off",t.css_combine=!0===e("#toolkit_css_combine").prop("checked")?"on":"off",t.css_excelem=!0===e("#toolkit_css_excelem").prop("checked")?"on":"off",t.js_minify=!0===e("#toolkit_js_minify").prop("checked")?"on":"off",t.js_combine=!0===e("#toolkit_js_combine").prop("checked")?"on":"off",t.js_excelem=!0===e("#toolkit_js_excelem").prop("checked")?"on":"off",t.js_defer=!0===e("#toolkit_js_defer").prop("checked")?"on":"off",t.js_delay=!0===e("#toolkit_js_delay").prop("checked")?"on":"off",t.delayed_hkeywords=e("#delayed-hkeywords").val(),t.delayed_keywords=e("#delayed-keywords").val(),t.delayed_expages=e("#delayed-expages").val(),t.defer_homeonly=!0===e("#toolkit_defer_homeonly").prop("checked")?"on":"off",t.jsdefer_inline=!0===e("#toolkit_jsdefer_inline").prop("checked")?"on":"off",t.deferred_keywords=e("#deferred_keywords").val(),t.exclude_css_urls=e("#excluded-css-urls").val(),t.lazy_render=e("#lazy-render-words").val(),t.exclude_js_urls=e("#excluded-js-urls").val(),t.cdn_enable=!0===e("#toolkit_cdn_enable").prop("checked")?"yes":"no",t.cdn_url=e('input[name="toolkit_cdn_url[]"]').map(function(){return e(this).val()}).get(),t.cdn_files=e('select[name="toolkit_cdn_files[]"]').map(function(){return e(this).val()}).get(),t.exclude_cdn_urls=e("#excluded-cdn-urls").val(),t.google_fonts=!0===e("#toolkit_google_fonts").prop("checked")?"on":"off",t.fallback_fonts=!0===e("#toolkit_fallback_fonts").prop("checked")?"on":"off",t.preload_fonts=e("#toolkit_preload_fonts").val(),t._nonce=e(".minification-setting-section input[name=_nonce]").val();var o=e(this).data("message");!0===e(this).prop("checked")&&(o=parseInt(o)+1),"toolkit_js_defer"===e(this).attr("id")&&!0===e(this).prop("checked")&&(t.jsdefer_inline="on",e("#toolkit_jsdefer_inline").prop("checked",!0));var s=toolkit_get_success_message("booster_main",o);toolkit_save_admin_settings(t,s)}),jQuery("#toolkit_pre_dns, .save-prefetch-settings").on("click",function(){var t={action:"toolkit_prefetch_setting_save"};t.pre_dns=!0===e("#toolkit_pre_dns").prop("checked")?"on":"off",t.hkeywords=e("#prefetch-hkeywords").val(),t.keywords=e("#prefetch-keywords").val(),t.expages=e("#prefetch-expages").val(),t._nonce=e(".minification-setting-section input[name=_nonce]").val();var o=e(this).data("message");!0===e(this).prop("checked")&&(o=parseInt(o)+1);var s=toolkit_get_success_message("prefetch_dns",o);toolkit_save_admin_settings(t,s)}),jQuery(".save-lazyload-setting, #toolkit_image_loading, #toolkit_preload_images, #toolkit_image_attrs, #toolkit_video_loading, #toolkit_yt_placeholder, #toolkit_yt_self_host, #toolkit_iframe_loading").on("click",function(){var t={action:"toolkit_lazyload_setting_save"};t.image=!0===e("#toolkit_image_loading").prop("checked")?"on":"off",t.img_loadtype=e("#toolkit_img_loadtype").val(),t.image_abvfold=e("#toolkit_image_abvfold").val(),t.preload_images=!0===e("#toolkit_preload_images").prop("checked")?"on":"off",t.image_attrs=!0===e("#toolkit_image_attrs").prop("checked")?"on":"off",t.video=!0===e("#toolkit_video_loading").prop("checked")?"on":"off",t.yt_placeholder=!0===e("#toolkit_yt_placeholder").prop("checked")?"on":"off",t.yt_self_host=!0===e("#toolkit_yt_self_host").prop("checked")?"on":"off",t.iframe=!0===e("#toolkit_iframe_loading").prop("checked")?"on":"off",t.exclude_loading=e("#toolkit_exclude_loading").val(),t._nonce=e(".lazyload-setting-section input[name=_nonce]").val();var o=e(this).data("message");!0===e(this).prop("checked")&&(o=parseInt(o)+1);var s=toolkit_get_success_message("media_loading",o);toolkit_save_admin_settings(t,s)}),jQuery("#toolkit_gzip_compression, #toolkit_keep_alive, #toolkit_ninja_etags, #toolkit_expire_headers, #toolkit_encoding_header").on("click",function(){if(confirm("This will edit your htaccess file. Before saving ensure you have downloaded backup of htaccess file.")){var t={action:"toolkit_server_setting_save",_nonce:e(".server-tweaks-section input[name=_nonce]").val()};t.encoding_header=!0===e("input[name=toolkit_encoding_header]").prop("checked")?"on":"off",t.gzip_compression=!0===e("input[name=toolkit_gzip_compression]").prop("checked")?"on":"off",t.keep_alive=!0===e("input[name=toolkit_keep_alive]").prop("checked")?"on":"off",t.ninja_etags=!0===e("input[name=toolkit_ninja_etags]").prop("checked")?"on":"off",t.leverage_caching=!0===e("input[name=toolkit_leverage_caching]").prop("checked")?"on":"off",t.expire_headers=!0===e("input[name=toolkit_expire_headers]").prop("checked")?"on":"off";var o=e(this).data("message");!0===e(this).prop("checked")&&(o=parseInt(o)+1);var s=toolkit_get_success_message("server_tweaks",o);toolkit_save_admin_settings(t,s)}else!0===e(this).prop("checked")?e(this).prop("checked",!1):e(this).prop("checked",!0)}),jQuery("#wordpress_widgets_ds .widget-toggler").on("click",function(){var t=e("#wordpress_widgets_ds").serialize();t._nonce=jQuery("#wordpress-panel").find("input[name=_nonce]").val();var o=e(this).data("value");!0===e(this).prop("checked")?o+=" has been de-registered successfully":o+=" has been re-registered successfully",toolkit_save_admin_settings(t,o)}),jQuery("#dashboard_widgets_ds .widget-toggler").on("click",function(){var t=e("#dashboard_widgets_ds").serialize();t._nonce=jQuery("#dashboard-panel").find("input[name=_nonce]").val();var o=e(this).data("value");!0===e(this).prop("checked")?o+=" has been de-registered successfully":o+=" has been re-registered successfully",toolkit_save_admin_settings(t,o)}),jQuery("#elementor_widgets_ds .widget-toggler").on("click",function(){var t=e("#elementor_widgets_ds").find("input[type='checkbox']:checked").serialize();t+=t+"&action=disable_elementor_widgets",t+=t+"&_nonce="+jQuery("#elementor-panel").find("input[name=_nonce]").val();var o=e(this).data("value");!0===e(this).prop("checked")?o+=" has been de-registered successfully":o+=" has been re-registered successfully",toolkit_save_admin_settings(t,o)});var n=jQuery("#theme_disable_themeless");n.length>0&&n.on("click",function(){var t={action:"theme_disable_settings",themeless:!0===n.prop("checked")?"yes":"no"},o=e(this).data("message");!0===e(this).prop("checked")&&(o=parseInt(o)+1);var s=toolkit_get_success_message("theme_dashing",o);toolkit_save_admin_settings(t,s)}),jQuery(".save-dashboard-options, #toolkit_dashboard_showtitle, #toolkit_dashboard_dismiss").on("click",function(){var t={action:"toolkit_dashboard_options_save"};t.template=e("#toolkit_dashboard_template").val(),t.showtitle=!0===e("#toolkit_dashboard_showtitle").prop("checked")?"yes":"no",t.dismissible=!0===e("#toolkit_dashboard_dismiss").prop("checked")?"yes":"no";var o=e(this).data("message");!0===e(this).prop("checked")&&(o=parseInt(o)+1);var s=toolkit_get_success_message("theme_dashing",o);toolkit_save_admin_settings(t,s)}),jQuery("#toolkit_disable_emojis, #toolkit_disable_dashicons, #toolkit_disable_oembed, #toolkit_disable_rssfeed, #toolkit_disable_xmlrpc, #toolkit_disable_commentreply, #toolkit_disable_restapi, #toolkit_disable_gutenberg, .save-unload-options, #save-source-options, #toolkit_remove_qstrings, #toolkit_remove_jmigrate, #toolkit_remove_apilinks, #toolkit_remove_feedlinks, #toolkit_remove_rsdlink, #toolkit_remove_shortlink, #toolkit_remove_wlwlink, #save-woocommerce-options").on("click",function(){var t={action:"toolkit_unload_options_save"};t.disable_emojis=!0===e("input[name=toolkit_disable_emojis]").prop("checked")?"on":"off",t.disable_dashicons=!0===e("input[name=toolkit_disable_dashicons]").prop("checked")?"on":"off",t.disable_oembed=!0===e("input[name=toolkit_disable_oembed]").prop("checked")?"on":"off",t.disable_rssfeed=!0===e("input[name=toolkit_disable_rssfeed]").prop("checked")?"on":"off",t.disable_xmlrpc=!0===e("input[name=toolkit_disable_xmlrpc]").prop("checked")?"on":"off",t.disable_restapi=!0===e("input[name=toolkit_disable_restapi]").prop("checked")?"on":"off",t.condition_restapi=e("#toolkit_condition_restapi").val(),t.disable_gutenberg=!0===e("input[name=toolkit_disable_gutenberg]").prop("checked")?"on":"off",t.condition_gutenberg=e("#toolkit_condition_gutenberg").val(),t.disable_commentreply=!0===e("input[name=toolkit_disable_commentreply]").prop("checked")?"on":"off",t.remove_qstrings=!0===e("input[name=toolkit_remove_qstrings]").prop("checked")?"on":"off",t.remove_jmigrate=!0===e("input[name=toolkit_remove_jmigrate]").prop("checked")?"on":"off",t.remove_apilinks=!0===e("input[name=toolkit_remove_apilinks]").prop("checked")?"on":"off",t.remove_feedlinks=!0===e("input[name=toolkit_remove_feedlinks]").prop("checked")?"on":"off",t.remove_rsdlink=!0===e("input[name=toolkit_remove_rsdlink]").prop("checked")?"on":"off",t.remove_shortlink=!0===e("input[name=toolkit_remove_shortlink]").prop("checked")?"on":"off",t.remove_wlwlink=!0===e("input[name=toolkit_remove_wlwlink]").prop("checked")?"on":"off";var o=e(this).data("message");!0===e(this).prop("checked")&&(o=parseInt(o)+1);var s=toolkit_get_success_message("code_cleaner",o);toolkit_save_admin_settings(t,s)});var l=jQuery(".save-toolkit");l.length>0&&l.on("click",function(){var t={action:"theme_toolkit_settings",header_code:e("#theme_disable_header").val(),footer_code:e("#theme_disable_footer").val(),footer_wpcode:e("#theme_disable_wpfooter").val(),bodytag_code:e("#theme_disable_bodytag").val()};toolkit_save_admin_settings(t)}),e("#toolkit-license-verification #key-verify").on("click",function(){var t=e("#toolkit-license-verification input[name=template-key]").val();if(t){var o={action:"toolkit_license_key_verify",_nonce:e("#toolkit-license-verification input[name=_nonce]").val(),license_key:t};toolkit_save_admin_settings(o,null,!0)}else alert("Please enter valid license key")}),e("#key-deactivate").on("click",function(){var t={action:"toolkit_license_key_verify",_nonce:e("#toolkit-license-verification input[name=_nonce]").val(),license_key:e("#toolkit-license-verification input[name=template-key]").data("license")};toolkit_save_admin_settings(t,null,!0)}),e("#login-role").on("change",function(){var t=e(this).val(),o=JSON.parse(e("#user-roles-caps").val());o[t].edit_posts?e("#access-link-posts").removeAttr("disabled"):e("#access-link-posts").val("none").attr("disabled",!0),o[t].activate_plugins?e("#access-link-plugins").removeAttr("disabled"):e("#access-link-plugins").val("none").attr("disabled",!0),o[t].edit_pages?e("#access-link-pages").removeAttr("disabled"):e("#access-link-pages").val("none").attr("disabled",!0),o[t].manage_woocommerce?e("#access-link-woocommerce").removeAttr("disabled"):e("#access-link-woocommerce").val("none").attr("disabled",!0),"administrator"===t?(e('#access-link-posts option[value="view"]').attr("disabled",!0),e('#access-link-plugins option[value="view"]').attr("disabled",!0),e('#access-link-pages option[value="view"]').attr("disabled",!0)):(e('#access-link-posts option[value="view"]').removeAttr("disabled"),e('#access-link-plugins option[value="view"]').removeAttr("disabled"),e('#access-link-pages option[value="view"]').removeAttr("disabled"))}),e("#toolkit-login-form").on("submit",function(t){t.preventDefault();var o={action:"save_toolkit_login_user",user_email:e("#login-email").val(),first_name:e("#login-fname").val(),last_name:e("#login-lname").val(),role:e("#login-role").val(),expiry:e("#login-expiry").val(),redirect:e("#login-redirect").val(),cap_pages:e("#access-link-pages").val(),cap_posts:e("#access-link-posts").val(),cap_plugins:e("#access-link-plugins").val(),cap_woocommerce:e("#access-link-woocommerce").val(),update_id:e("#update_user_id").val(),toolkit_access_nonce:e("#toolkit_access_nonce").val()};toolkit_save_admin_settings(o,null,!0)}),e("#toolkit-remove-user").on("click",function(t){var o=e("#deleted-user").val();if(parseInt(o)>0&&confirm("Are you sure you'd like to delete this User Access Link?")){var s={action:"remove_toolkit_login_user",user_id:o,reassign_id:e("#reassign-user").val(),toolkit_access_nonce:e("#toolkit_access_nonce").val()};toolkit_save_admin_settings(s,null,!0)}}),e(".toolkit-remove-link").on("click",function(t){var o=e(this).data("user_id");parseInt(o)>0&&(e("#deleted-user").val(o),e("#reassign-user option").show(),e('#reassign-user option[value="'+o+'"]').hide())}),e("#show-login-form").on("click",function(){e("#login-fname").val(""),e("#login-lname").val(""),e("#login-email").val(""),e("#login-expiry").val("day"),e("#login-redirect").val("default"),e("#access-link-posts").val("view-edit"),e("#access-link-plugins").val("view-edit"),e("#access-link-pages").val("view-edit"),e("#access-link-woocommerce").val("view-edit"),e("#update_user_id").val("0"),e("#login-role").val("administrator").trigger("change"),e("#toolkit-login-form").slideToggle(),e("#toolkit-create-access").text("Generate Secure Access Link")}),e(".toolkit-edit-user").on("click",function(){var t=e(this).data("user_id");if(parseInt(t)>0){var o=JSON.parse(e("#user-"+t+"-details").val());e("#login-fname").val(o.first_name),e("#login-lname").val(o.last_name),e("#login-email").val(o.user_email),e("#login-expiry").val(o.expiry),e("#login-redirect").val(o.redirect),e("#access-link-posts").val(o.ps_access),e("#access-link-plugins").val(o.pl_access),e("#access-link-pages").val(o.pg_access),e("#access-link-woocommerce").val(o.wc_access),e("#update_user_id").val(t),e("#login-role").val(o.user_role).trigger("change"),e("#toolkit-login-form").slideDown(),e("#toolkit-create-access").text("Save Changes")}}),e(".toolkit-copy-to-clipboard").on("click",function(){t=this,o=e("<input>"),e("body").append(o),o.val(e(t).data("clipboard")).select(),document.execCommand("copy"),o.remove();var t,o,s=e(this).attr("id");e("#copied-"+s).text("Copied").fadeIn(),e("#copied-"+s).fadeOut("slow")}),jQuery("#save_restrict_access").on("click",function(){var e={action:"toolkit_restrict_access_save"},t=jQuery("#toolkit_restrict_access").val();e.hide_plugin=!0===jQuery("input[name=toolkit_hide_plugin]").prop("checked")?"yes":"no",e.restrict_access=t,"me"===t?(e.booster_access="me",e.syncer_access="me",e.theme_access="me",e.toolbox_access="me",e.license_access="me"):(e.booster_access=jQuery("#toolkit_booster_access").val(),e.syncer_access=jQuery("#toolkit_syncer_access").val(),e.theme_access=jQuery("#toolkit_theme_access").val(),e.toolbox_access=jQuery("#toolkit_toolbox_access").val(),e.license_access=jQuery("#toolkit_license_access").val()),e.only_me_id=jQuery("#restrict_access_id").val(),toolkit_save_admin_settings(e)}),e(".close-notice").on("click",function(){e("#theme-disable-admin-css").attr("disabled","disabled"),e(".theme-disable-overlay").hide()}),jQuery(".save-bgtasks-options, #toolkit_disable_heartbeat, #toolkit_disable_revision, #toolkit_disable_autosave").on("click",function(){var t={action:"toolkit_bgtasks_options_save"};t.disable_heartbeat=!0===jQuery("input[name=toolkit_disable_heartbeat]").prop("checked")?"yes":"no",t.heartbeat_frequency=jQuery("#toolkit_heartbeat_frequency").val(),t.disable_revision=!0===jQuery("input[name=toolkit_disable_revision]").prop("checked")?"yes":"no",t.revision_frequency=jQuery("#toolkit_revision_frequency").val(),t.disable_autosave=!0===jQuery("input[name=toolkit_disable_autosave]").prop("checked")?"yes":"no",t.autosave_interval=jQuery("#toolkit_autosave_interval").val();var o=e(this).data("message");!0===e(this).prop("checked")&&(o=parseInt(o)+1);var s=toolkit_get_success_message("core_manager",o);toolkit_save_admin_settings(t,s)}),jQuery("#toolkit_disable_sitemap, #toolkit_disable_wpcore, #toolkit_disable_plugin, #toolkit_disable_themes").on("click",function(){var t={action:"toolkit_coretweak_options_save"};t.disable_sitemap=!0===jQuery("input[name=toolkit_disable_sitemap]").prop("checked")?"yes":"no",t.wpcore=!0===jQuery("input[name=toolkit_disable_wpcore]").prop("checked")?"yes":"no",t.plugin=!0===jQuery("input[name=toolkit_disable_plugin]").prop("checked")?"yes":"no",t.themes=!0===jQuery("input[name=toolkit_disable_themes]").prop("checked")?"yes":"no";var o=e(this).data("message");!0===e(this).prop("checked")&&(o=parseInt(o)+1);var s=toolkit_get_success_message("core_manager",o);toolkit_save_admin_settings(t,s)}),jQuery("#clear-scan-history").on("click",function(){confirm("Are you sure to clear scan history?")&&toolkit_save_admin_settings({action:"toolkit_clear_scan_history",clear:!0},null,!0)}),e(".toolkit-regenerate-css a").on("click",function(t){t.preventDefault();var o=e(this);o.text("Regenerating..."),e.post(ajaxurl,{action:"elementor_clear_cache",_nonce:e("#toolkit_regenerate_nonce").val()}).done(function(){o.text("Regenerated"),setTimeout(function(){o.text("Regenerate CSS")},2e3)})}),jQuery("#save_data_handling").on("click",function(){var e={action:"toolkit_data_handling_save"};e.upon_uninstal=jQuery("#toolkit_upon_uninstal").val(),e.booster_uninstall=jQuery("#toolkit_booster_uninstall").val(),e.scan_history=jQuery("#toolkit_scan_history").val(),e.theme_uninstall=jQuery("#toolkit_theme_uninstall").val(),e.toolbox_uninstall=jQuery("#toolkit_toolbox_uninstall").val(),e.license_uninstall=jQuery("#toolkit_license_uninstall").val(),toolkit_save_admin_settings(e)}),jQuery("#toolkit_beta_testing").on("click",function(){var e={action:"toolkit_testing_options_save"};e.beta_testing=!0===jQuery("input[name=toolkit_beta_testing]").prop("checked")?"yes":"no",e.testing_email=jQuery("input[name=toolkit_testing_email]").val(),e.testing_name=jQuery("input[name=toolkit_testing_name]").val(),toolkit_save_admin_settings(e)}),jQuery("#reset-settings-options").on("click",function(){!0===jQuery("#toolkit_reset_settings").prop("checked")?confirm("Are you sure you want to wipe all settings back to factory default?")&&toolkit_save_admin_settings({action:"toolkit_reset_settings_options",reset_all:!0},null,!0):alert("Check reset option and click on save again.")}),jQuery("#toolkit_disable_restapi, #toolkit_disable_gutenberg, #toolkit_disable_heartbeat, #toolkit_disable_revision, #toolkit_disable_autosave, #toolkit_lazy_loading, #toolkit_yt_placeholder, #toolkit_beta_testing, #toolkit_cache_pages,  #toolkit_preload_cache, #toolkit_css_combine, #toolkit_cdn_enable, #toolkit_js_combine, #toolkit_js_defer, #toolkit_js_delay, #toolkit_pre_dns, #toolkit_image_loading, #toolkit_logpage_enable").on("click",function(){!0===jQuery(this).prop("checked")?jQuery("."+jQuery(this).data("toggler")).slideDown():jQuery("."+jQuery(this).data("toggler")).slideUp()}),e("#toolkit_css_combine").on("click",function(){!0===e(this).prop("checked")&&!1===e("#toolkit_css_minify").prop("checked")&&e("#toolkit_css_minify").trigger("click")}),e("#toolkit_js_combine").on("click",function(){!0===e(this).prop("checked")&&!1===e("#toolkit_js_minify").prop("checked")&&e("#toolkit_js_minify").trigger("click")}),e("#toolkit_exclude_jquery").on("click",function(){!0===e(this).prop("checked")&&!0===e("#toolkit_fixed_jquery").prop("checked")&&e("#toolkit_fixed_jquery").trigger("click")}),e("#toolkit_fixed_jquery").on("click",function(){!0===e(this).prop("checked")&&!0===e("#toolkit_exclude_jquery").prop("checked")&&e("#toolkit_exclude_jquery").trigger("click")}),e("#toolkit_restrict_access").on("change",function(){"me"!==e(this).val()?e("."+e(this).data("toggler")).slideDown():e("."+e(this).data("toggler")).slideUp()}),e("#toolkit_upon_uninstal, #toolkit_upon_export").on("change",function(){"rem_some"===e(this).val()?e("."+e(this).data("toggler")).slideDown():e("."+e(this).data("toggler")).slideUp()}),e(".generate-syncerkey").on("click",function(){var t=e("#key-expiration").val();t&&jQuery.ajax({type:"POST",url:toolkit.post_url,data:{action:"toolkit_generate_syncer_key",expiration:t,notes:e("#syncer-key-note").val()},dataType:"json",beforeSend:function(){e("#site-connection-manager").showLoading()},success:function(t){e("#site-connection-manager").hideLoading(),t?window.location.reload():alert("Sorry, we could not generate a syncer key. Try again.")},error:function(t,o,s){e("#site-connection-manager").hideLoading(),alert("Sorry, we could not generate a syncer key. Try again.")}})}),e(".remove-syncerkey").on("click",function(){var t=e(this).closest("td").find(".comp-syncer-key").val();confirm("Are you sure to remove?")&&t&&jQuery.ajax({type:"POST",url:toolkit.post_url,data:{action:"toolkit_delete_syncer_key",rem_key:t},dataType:"json",beforeSend:function(){e("#site-connection-manager").showLoading()},success:function(t){e("#site-connection-manager").hideLoading(),t?window.location.reload():alert("Sorry, we could not remove a syncer key. Try again.")},error:function(t,o,s){e("#site-connection-manager").hideLoading(),alert("Sorry, we could not remove a syncer key. Try again.")}})}),e(".copy-syncer-key").on("click",function(){e("#syncer-key-input").val(e(this).closest("td").find(".comp-syncer-key").val());let t=document.getElementById("syncer-key-input");t.select();let o=document.execCommand("copy");o&&(e("#syncer-key-input").val("").blur(),alert("Key copied to clipboard"))}),e(".edit-syncer-note").on("click",function(){var t=e(this).closest("tr").find(".notes").text();e(this).closest("tr").find(".notesection").hide(),e(this).closest("tr").find(".max400").find(".note-updates").remove(),e(this).closest("tr").find(".max400").append('<div class="note-updates"><input type="text" class="syncer-key-input" value="'+t+'"/> <button type="button" class="button toolkit-btn syncer-key-edit">Update</button></div>')}),e("body").on("click",".syncer-key-edit",function(){var t=e(this).closest("tr").find(".comp-syncer-key").val(),o=e(this).closest("td").find(".syncer-key-input").val();t&&jQuery.ajax({type:"POST",url:toolkit.post_url,data:{action:"toolkit_update_syncer_key",rem_key:t,notes:o},dataType:"json",beforeSend:function(){e("#site-connection-manager").showLoading()},success:function(t){e("#site-connection-manager").hideLoading(),t?window.location.reload():alert("Sorry, we could not update syncer key note. Try again.")},error:function(t,o,s){e("#site-connection-manager").hideLoading(),alert("Sorry, we could not update syncer key note. Try again.")}})}),e("#clear-syncer-key").on("click",function(){e("#syncer-key-external").val(""),e("#toolkit_syncer_remote_templates").html("")}),e("#syncer-key-connect").on("click",function(){var t=e("#syncer-key-external").val(),o=e("#toolkit_syncer_remote_templates");t.trim()&&(t.split(":")[0]===toolkit.site_name?o.html('<p class="same-site">Oops! Looks like you are trying to connect to the same site. Please enter a Syncer key for another remote site.</p>'):jQuery.ajax({type:"POST",url:toolkit.post_url,data:{action:"toolkit_remote_templates",key:t},dataType:"json",beforeSend:function(){e("#site-connection-manager").showLoading()},success:function(t){if(e("#site-connection-manager").hideLoading(),t.length>0){e("#bookmark-syncer-key").show();var s='<table class="table table-bordered" id="remote-template-section" style="background:#F9F9F9" width="100%">';s+="<tbody><tr>",s+='<td class="template-cell">',s+='<loading v-if="loading" el="#remote-template-section" />',s+='<div class="template-listing-search dashicons-before">',s+='<input type="text" id="sync-temp-search" class="form-control" placeholder="Search here"/>',s+="</div>",s+='<div class="template-listing-tabs">';var i=toolkitGetArrayUnique(["all"].concat(t.map(function(e){return e.type})));s+='<h2 class="nav-tab-wrapper">';for(var a=0;a<i.length;a++)s+='<a class="nav-tab" data-temp_type="'+i[a]+'">'+capitalizeFirstLetter(i[a])+"</a>";for(s+="</h2>",s+='<div class="tab-content"><ul class="templates-wrapper clearfix">',a=0;a<t.length;a++)s+='<li class="template template-'+t[a].type+'">',s+="<div><h4>"+t[a].title+"</h4>",s+='<img src="'+toolkit.temp_thumb+'" title="'+t[a].title.toLowerCase()+'" /></div>',s+='<h4><button type="button" class="button toolkit-btn template-import" data-template_id="'+t[a].template_id+'">Import Template</button></h4></li>';s+="</div></ul>",s+="</div>",s+="</td></tr></tbody></table>",o.html(s)}else e("#bookmark-syncer-key").hide(),o.html('<p class="same-site">Sorry, we didn\'t find any Elementor templates on the selected site.</p>')},error:function(t,s,i){e("#site-connection-manager").hideLoading(),o.html('<p class="same-site">Sorry, we didn\'t connect to the selected site, try again later.</p>')}}))}),e(document).on("click",".template-import",function(){var t=e(this).data("template_id"),o=e("#syncer-key-external").val();o&&parseInt(t)>0&&jQuery.ajax({type:"POST",url:toolkit.post_url,data:{action:"toolkit_remote_template",key:o,id:t},dataType:"json",beforeSend:function(){e("#site-connection-manager").showLoading()},success:function(t){e("#site-connection-manager").hideLoading(),t?alert("Success! Your template has been downloaded."):alert("Sorry, downloading this template failed. Please try again.")},error:function(t,o,s){e("#site-connection-manager").hideLoading(),alert("Sorry, downloading this template failed. Please try again.")}})}),e("#bookmark-syncer-key").on("click",function(){var t=e("#syncer-key-external").val();t&&toolkit_save_admin_settings({action:"toolkit_bookmark_syncer_key",key:t})}),e(document).on("click",".template-listing-tabs .nav-tab",function(){var t=e(this).data("temp_type");"all"===t?e(".templates-wrapper .template").show():(e(".templates-wrapper .template").hide(),e(".templates-wrapper .template-"+t).show())}),e(document).on("keyup","#sync-temp-search",function(){var t=e(this).val();t?(e(".templates-wrapper .template").hide(),e('.templates-wrapper .template img[title*="'+t.toLowerCase()+'"]').closest(".template").show()):e(".templates-wrapper .template").show()}),e(".syncer-keys-table .connect-site").on("click",function(){var t=e(this).data("site_id"),o=e(this).data("site_key");o&&parseInt(t)>0&&(e("#syncer-key-external").val(o),e("#site-connect-tab").trigger("click"),e("#syncer-key-connect").trigger("click"))}),e(".syncer-keys-table .remove-site").on("click",function(){var t=e(this).data("site_id");if(confirm("Are you sure to remove?")&&parseInt(t)>0){var o=e(this);jQuery.ajax({type:"POST",url:toolkit.ajax_url,data:{action:"toolkit_remove_syncer_key",site_id:t},dataType:"json",beforeSend:function(){e("#site-connection-manager").showLoading()},success:function(t){e("#site-connection-manager").hideLoading(),t.success?(o.closest("tr").remove(),jQuery(".toolkit-message").removeClass("updated").addClass("updated").show().html("<p>"+t.message+"</p>").delay(5e3).fadeOut(a),jQuery("html, body").animate({scrollTop:0},"slow")):(jQuery(".toolkit-message").removeClass("updated").addClass("error").show().html("<p>"+t.message+"</p>").delay(5e3).fadeOut(a),jQuery("html, body").animate({scrollTop:0},"slow"))},error:function(t,o,s){e("#site-connection-manager").hideLoading()}})}}),e("#add-more-cdn").on("click",function(){var t="<tr>"+e("#cdn-holder-table tbody").find("tr:eq(0)").html()+'<td><span class="dashicons dashicons-no"></span></td></tr>';e("#cdn-holder-table > tbody").append(t),e("#cdn-holder-table tbody tr:last").find("input").val(""),e("#cdn-holder-table tbody tr:last").find("input").val(""),e("#cdn-holder-table tbody tr:last").find("button").addClass("jsbtn")}),e(document).on("click","#cdn-holder-table tbody .dashicons-no",function(){var t=e(this);t.closest("tr").fadeOut("slow"),setTimeout(function(){t.closest("tr").remove()},2e3)}),e(".login_background_image_button").on("click",function(t){t.preventDefault();var o=e(this),s=wp.media({title:"Insert image",library:{type:"image"},button:{text:"Use this image"},multiple:!1}).on("select",function(){var t=s.state().get("selection").first().toJSON();e(o).text("Change Background Image"),e(".login-bgimage-holder").html('<img class="login-background-img" src="'+t.url+'" /><span class="dashicons dashicons-trash"></span>'),e("#toolkit_login_bgimage").val(t.url),e(".toolkit-loginbg-options").slideDown()}).open()}),e("body").on("click",".login-bgimage-holder .dashicons-trash",function(){e(".login-bgimage-holder").html(""),e("#toolkit_login_bgimage").val(""),e(".toolkit-loginbg-options").slideUp(),e(".login_background_image_button").text("Set Background Image")}),e(".login_logo_image_button").on("click",function(t){t.preventDefault();var o=e(this),s=wp.media({title:"Insert image",library:{type:"image"},button:{text:"Use this image"},multiple:!1}).on("select",function(){var t=s.state().get("selection").first().toJSON();e(o).text("Change Logo Image"),e(".login-logoimage-holder").html('<img class="login-logo-img" src="'+t.url+'" /><span class="dashicons dashicons-trash"></span>'),e("#toolkit_login_logoimage").val(t.url),e(".toolkit-loginlogo-options").slideDown()}).open()}),e("body").on("click",".login-logoimage-holder .dashicons-trash",function(){e(".login-logoimage-holder").html(""),e("#toolkit_login_logoimage").val(""),e(".toolkit-loginlogo-options").slideUp(),e(".login_logo_image_button").text("Set Logo Image")}),jQuery("#toolkit_logpage_enable, .save-loginpage-options").on("click",function(){var t={action:"toolkit_loginpage_options_save"};t.logpage_enable=!0===e("#toolkit_logpage_enable").prop("checked")?"on":"off",t.logpage_url=e("#toolkit_logpage_url").val(),t.logpage_red=e("#toolkit_logpage_red").val(),t.bgimage=e("#toolkit_login_bgimage").val(),t.bgsize=e("#toolkit_login_bgsize").val(),t.bgrepeat=e("#toolkit_login_bgrepeat").val(),t.logoimage=e("#toolkit_login_logoimage").val(),t.lgwidth=e("#toolkit_login_lgwidth").val(),t.lgheight=e("#toolkit_login_lgheight").val(),t.logourl=e("#toolkit_login_logourl").val(),t.customcss=e("#toolkit_login_customcss").val();var o=e(this).data("message");!0===e(this).prop("checked")&&(o=parseInt(o)+1);var s=toolkit_get_success_message("theme_dashing",o);toolkit_save_admin_settings(t,s)}),e(".show-ninja-scripts").on("click",function(){var t=e(this).closest(".controls-section"),o=t.find(".post-type-script").val(),s=e(this),i=toolkit_get_random_string(15);o&&parseInt(o)>0?e.ajax({type:"POST",url:toolkit.ajax_url,dataType:"json",data:{action:"toolkit_get_post_assets",post_id:o},beforeSend:function(){s.closest(".minification-setting-section").showLoading()},success:function(o){s.closest(".minification-setting-section").hideLoading(),o.success?t.find(".display-assets-list").html(o.data):(e(".toolkit-message").show().append('<p class="error-msg '+i+'"><b>Error:</b><br/>'+o.message+"</p>"),setTimeout(function(){e("."+i).remove()},5e3))},error:function(e,t,o){s.closest(".minification-setting-section").hideLoading()}}):(e(".toolkit-message").show().append('<p class="error-msg '+i+'"><b>Error:</b><br/>Please select post.</p>'),setTimeout(function(){e("."+i).remove()},5e3))}),e("body").on("click",".ninja-toggler",function(){var t=e(this).closest(".controls-section").find(".asset-post-id").val();if(t&&parseInt(t)>0){var o=["1"],s=["1"],i=["1"],a=["1"];e('input[name="tkcss_exc_assets[]"]:checked').each(function(t,s){o[t]=e(this).val()}),e('input[name="tkjs_exc_assets[]"]:checked').each(function(t,o){s[t]=e(this).val()}),e('input[name="tkgcss_exc_assets[]"]:checked').each(function(t,o){var s=[];e(this).closest("tr").find('input[name="global_css_post_types[]"]:checked').each(function(t,o){s[t]=e(this).val()}),s?i[t]=e(this).val()+"|"+s.join(","):i[t]=e(this).val()}),e('input[name="tkgjs_exc_assets[]"]:checked').each(function(t,o){var s=[];e(this).closest("tr").find('input[name="global_js_post_types[]"]:checked').each(function(t,o){s[t]=e(this).val()}),s?a[t]=e(this).val()+"|"+s.join(","):a[t]=e(this).val()});var n=e(this).val();!0===e(this).prop("checked")?n+=" has been dequeued successfully":n+=" has been enqueued successfully",toolkit_save_admin_settings({action:"toolkit_save_post_assets",post_id:t,styles:o,scripts:s,gstyles:i,gscripts:a},n)}else alert("Invalid scripts request")}),e("body").on("click",".border-bottom .switch .ninja-toggler",function(){e(this).closest("tr").find(".post-types-list").toggleClass("show-list")})});